import{a as u,V as i}from"./VTextField-1d0d3849.js";import{_ as m,r as f,o as s,d as o,a as t,w as a,c as h,g as _,x as p,y as g,e as n,z as x,D as v}from"./index-a268a96b.js";import{V as k,a as b}from"./VDataTable-6a90e37e.js";const V={name:"nostockfulfillment",data(){return{headers:[{text:"Anúncio",align:"start",sortable:!1,value:"ml_item_id"},{text:"Título",value:"title"},{text:"Inventory ID",value:"inventory_id"},{text:"Qtt Disponível",value:"available_quantity"},{text:"Vendidos",value:"sold_quantity"},{text:"Logística",value:"logistic_type",sortable:!1},{text:"Seller",value:"seller_id",sortable:!1},{text:"Link do Full",value:"permalink",sortable:!1}],anuncios:[],editedIndex:-1,loadingtable:!1}},created(){this.getAnuncios()},methods:{getAnuncios(){this.loadingtable=!0,u.get("https://sea-turtle-app-2-m3wfm.ondigitalocean.app/fulfillment/index",{headers:{Authorization:this.$store.state.authToken}}).then(e=>{this.anuncios=e.data,console.log(e.data),this.loadingtable=!1}).catch(e=>{console.log(e),e.request.status===401&&(console.log("--- user não está logado ---:"),this.$router.push("login")),this.loadingtable=!1})},linkAnuncio(e){this.editedIndex=this.anuncios.indexOf(e),this.editedItem=Object.assign({},e),console.log(this.editedItem.ml_item_id),window.open("https://www.mercadolivre.com.br/anuncios/lista/fulfillment?page=1&search="+this.editedItem.ml_item_id)}}},y={key:0,height:"400px"};function w(e,I,A,T,l,r){const d=f("v-flex");return s(),o("div",null,[l.loadingtable==!0?(s(),o("div",y,[t(d,null,{default:a(()=>[t(i,{class:"d-flex align-center justify-center",height:"400px"},{default:a(()=>[t(_,{size:50,indeterminate:"",color:"primary"})]),_:1})]),_:1})])):(s(),h(i,{key:1,class:"pa-8",outlined:"",tile:""},{default:a(()=>[t(b,{headers:l.headers,items:l.anuncios,"item-key":"ml_item_id",class:"elevation-1"},{top:a(()=>[t(p,{flar:""},{default:a(()=>[t(g,null,{default:a(()=>[n("Anúncios no Full Sem Estoque")]),_:1}),t(k,{class:"mx-4",inset:"",vertical:""}),t(x)]),_:1})]),"item.permalink":a(({item:c})=>[t(v,{large:"",dense:"",color:"orange darken-2",class:"mr-2",onClick:C=>r.linkAnuncio(c)},{default:a(()=>[n("mdi-arrow-right-bold")]),_:2},1032,["onClick"])]),_:1},8,["headers","items"])]),_:1}))])}const z=m(V,[["render",w]]);export{z as default};
